if (!((window.DocumentTouch && document instanceof DocumentTouch) || 'ontouchstart' in window)) {    var script = document.createElement("script");    script.src = "plugins/af.desktopBrowsers.js";    var tag = $("head").append(script);    $.os.android = true; //let's make it run like an android device    //$.os.desktop = true;        //$.os.android = false;    //$.os.ios7 = true;    $.ui.useOSThemes = false; // set the os theme}var webRoot = "./";$.ui.autoLaunch = false; //By default, it is set to true and you're app will run right away.  We set it to false to show a splashscreen/* This function runs when the body is loaded.*/var alreadyInitialized = false; // ensure calling init() only one timevar init = function () {        //navigator.splashscreen.show();               if ( alreadyInitialized )            return;                /*        window.setTimeout(function () {            $.ui.splitview = false;            $.ui.launch();        }, 1500);//We wait 1.5 seconds to call $.ui.launch after DOMContentLoaded fires        */                //$.ui.showLoading=true;        initSetting();        initUI();        initQuestion();        initData();        $.ui.backButtonText = S_BACK[gLanguageIndex];// We override the back button text to always say "Back"        //showBackgroundImage( "bg_sunrise.jpg" );        initData();        //alert( getNumber( "04" ) );        //log( getClosestStationIDs( 1022, 1202, CAR_KINGBUS ) );                $.ui.splitview = false;        $.ui.launch();                backupIndexPath();    };//if ( !navSupported() )    document.addEventListener("DOMContentLoaded", init, false);$.ui.ready(function () {    //This function will get executed when $.ui.launch has completed    //if ( navSupported() && giPlatform != PLATFORM_DESKTOP )        $.ui.removeFooterMenu(); // disable navbar (footer) menu                    if ( !navSupported() )        ;//$.ui.toggleHeaderMenu(false); //force hide});window.addEventListener("hashchange", onHashChange, false);function onHashChange(){    var hash = location.hash;    //alert( "id = " + hash  );;    if ( !isLock() )    {        changeHash( hash.substring( 1, hash.length ) );    }    else    {        alert( "Loading..." );    }        if ( giPlatform == PLATFORM_WP )    {        restoreIndexPath();    }}// --------------GWAI-----------------gScriptFile.onload = function () {    //do stuff with the script    showAlert( "OK" );};document.addEventListener('deviceready', onDeviceReady, false);function onDeviceReady(){    gbOnReady = true;        document.addEventListener("offline", onOffline, false);    document.addEventListener("online", onOnline, false);        setPlatform();}function setPlatform(){    var sPlatform = device.platform;        if ( sPlatform.indexOf( "Win" ) >= 0 )    {        giPlatform = PLATFORM_WP;    }    else if ( sPlatform.indexOf( "ndroid" ) >= 0 )    {        giPlatform = PLATFORM_ANDROID;    }    else if ( sPlatform.indexOf( "iOS" ) >= 0 )    {        giPlatform = PLATFORM_IOS;    }    else if ( sPlatform.indexOf( "lackBerry" ) >= 0 )    {        giPlatform = PLATFORM_BLACKBERRY;    }    else if ( sPlatform.indexOf( "irefox" ) >= 0 )    {        giPlatform = PLATFORM_FIREFOXOS;    }    else if ( sPlatform.indexOf( "izen" ) >= 0 )    {        giPlatform = PLATFORM_TIZEN;    }    else    {        giPlatform = PLATFORM_ANDROID;    }        //alert( "Platform: " + sPlatform + " -> " + giPlatform );}function supportAdmobAD(){    return ( giPlatform == PLATFORM_ANDROID ||         giPlatform == PLATFORM_WP ||         giPlatform == PLATFORM_IOS );}function destroyAD(){    if ( !supportAdmobAD() )        return;            if ( window.plugins && window.plugins.AdMob )     {        var am = window.plugins.AdMob;        am.destroyBannerView(            undefined,            function() {},            function() {}        );    }}function getInneractiveAD( sAppID ){    if ( giPlatform != PLATFORM_FIREFOXOS )        return null;    var eOptions = {        TYPE: "Banner",        REFRESH_RATE: 50,        APP_ID: sAppID    };        return Inneractive.createAd( eOptions );}function showInneractiveAD( sDivID ){    if ( giPlatform == PLATFORM_FIREFOXOS )    {        geInneractiveAD.placement( "bottom", "left" );        geInneractiveAD.addTo( document.getElementById( sDivID ) );    }}function showAD(){    if ( !supportAdmobAD() )        return;            if ( window.plugins && window.plugins.AdMob )     {    	var admob_ios_key = gsIOSCodeOfAD;    	var admob_android_key = gsAndroidCodeOfAD;        var admob_wp_key = gsWPCodeOfAD;        var adId = admob_android_key;                if ( giPlatform == PLATFORM_WP )        {            adId = admob_wp_key;        }        else if ( giPlatform == PLATFORM_IOS )        {            adId = admob_ios_key;        }                var am = window.plugins.AdMob;            am.createBannerView(             {            'publisherId': adId,            'adSize': am.AD_SIZE.BANNER,            'bannerAtTop': false            },             function() {        	    am.requestAd(        		    { 'isTesting':false },             		function(){            			am.showAd( true );            		},             		function(){ alert('failed to request ad'); }            	);            },             function(){ alert('failed to create banner view'); }        );    } else {      alert('AdMob plugin not available/ready.');    }}function onOffline() {    gbOnline = false;}function onOnline() {    gbOnline = true;        //alert( "ON LINE" );}function hideHeader(){    $.ui.ready(        function()        {            $.ui.toggleHeaderMenu(false); //force hide        }    ); //Toggle the header menu on load}